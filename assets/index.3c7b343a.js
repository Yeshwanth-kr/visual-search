var _=Object.defineProperty;var y=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var v=(i,t,e)=>t in i?_(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,E=(i,t)=>{for(var e in t||(t={}))z.call(t,e)&&v(i,e,t[e]);if(y)for(var e of y(t))x.call(t,e)&&v(i,e,t[e]);return i};import{S as I,v as $}from"./vendor.6e636713.js";const A=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}};A();const d=0,m=i=>(i+1>>>1)-1,g=i=>(i<<1)+1,p=i=>i+1<<1;class w{constructor(t=(e,s)=>e>s){this._heap=[],this._comparator=t}size(){return this._heap.length}isEmpty(){return this.size()==0}peek(){return this._heap[d]}push(...t){return t.forEach(e=>{this._heap.push(e),this._siftUp()}),this.size()}pop(){const t=this.peek(),e=this.size()-1;return e>d&&this._swap(d,e),this._heap.pop(),this._siftDown(),t}replace(t){const e=this.peek();return this._heap[d]=t,this._siftDown(),e}_greater(t,e){return this._comparator(this._heap[t],this._heap[e])}_swap(t,e){[this._heap[t],this._heap[e]]=[this._heap[e],this._heap[t]]}_siftUp(){let t=this.size()-1;for(;t>d&&this._greater(t,m(t));)this._swap(t,m(t)),t=m(t)}_siftDown(){let t=d;for(;g(t)<this.size()&&this._greater(g(t),t)||p(t)<this.size()&&this._greater(p(t),t);){let e=p(t)<this.size()&&this._greater(p(t),g(t))?p(t):g(t);this._swap(t,e),t=e}}}const L=()=>{let i=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(i=!0)}(navigator.userAgent||navigator.vendor||window.opera),i};function q(){this.explore=(i,t)=>{const{td:e}=this.getElement(i);let s,r;switch(t){case"bfs":s=[255,0,0],r=[0,128,128];break;case"dfs":s=[247,37,133],r=[72,149,239];break;case"idfs":s=[201,24,74],r=[0,109,119];break;case"uniform":s=[0,21,36],r=[123,44,191];break;case"greedy":s=[131,144,250],r=[186,24,27];break;case"a*":s=[6,214,160],r=[239,71,111];break;case"ida*":s=[181,23,158],r=[67,97,238];break;default:s=[255,186,8],r=[244,140,6];break}return this.elements.push({u:0,td:e,start:s,end:r}),this.setElement(i.row,i.col,{td:e}),new Promise(o=>setTimeout(o,this.speed))},this.drawPath=i=>{let t=i;for(console.log("Path Cost",i.depth);t.parent!==null;)this.explore(t),t=t.parent;return!0},this.breadthFirstSearch=async()=>{const i=[this.start],t=new Map([[this.start.repr,!0]]);for(;i.length!==0;){const e=i.shift();for(const s of this.getNeighbors(e)){if(s.isEqual(this.goal))return this.drawPath(s);t.has(s.repr)||(await this.explore(s,"bfs"),t.set(s.repr,!0),i.push(s))}}return!1},this.depthFirstSearch=async(i=1/0)=>{const t=[this.start];for(;t.length!==0;){const e=t.pop();if(e.isEqual(this.goal))return this.drawPath(e);if(e.depth<=i&&!e.isCycle()){e.isEqual(this.start)||await this.explore(e,i===1/0?"dfs":"idfs");for(const s of this.getNeighbors(e))t.push(s)}}return!1},this.iterativeDeepeningSearch=async()=>{let i=0,t=!1;for(;!t;)i++,t=await this.depthFirstSearch(i)},this.g=i=>i.depth,this.h=i=>{const t=Math.abs(i.row-this.goal.row),e=Math.abs(i.col-this.goal.col);return Math.max(t,e)},this.f=i=>this.g(i)+this.W*this.h(i),this.aStarSearch=async()=>{var e;const i=new w((s,r)=>this.f(s)<this.f(r));i.push(this.start);const t=new Map([[this.start.repr,this.start]]);for(;!i.isEmpty();){const s=i.pop();if(console.log("goal",s.isEqual(this.goal)),s.isEqual(this.goal))return this.drawPath(s);s.isEqual(this.start)||await this.explore(s,"a*");for(const r of this.getNeighbors(s)){const o=r.repr;(!t.has(o)||r.depth<((e=t[o])==null?void 0:e.depth))&&(t.set(r.repr,r),i.push(r))}}return!1},this.uniformCostSearch=async()=>{var e;const i=new w((s,r)=>this.g(s)<this.g(r));i.push(this.start);const t=new Map([[this.start.repr,this.start]]);for(;!i.isEmpty();){const s=i.pop();if(s.isEqual(this.goal))return this.drawPath(s);s.isEqual(this.start)||await this.explore(s,"uniform");for(const r of this.getNeighbors(s)){const o=r.repr;(!t.has(o)||r.depth<((e=t[o])==null?void 0:e.depth))&&(t.set(r.repr,r),i.push(r))}}return!1},this.greedySearch=async()=>{var e;const i=new w((s,r)=>this.h(s)<this.h(r));i.push(this.start);const t=new Map([[this.start.repr,this.start]]);for(;!i.isEmpty();){const s=i.pop();if(s.isEqual(this.goal))return this.drawPath(s);s.isEqual(this.start)||await this.explore(s,"greedy");for(const r of this.getNeighbors(s)){const o=r.repr;(!t.has(o)||r.depth<((e=t[o])==null?void 0:e.depth))&&(t.set(r.repr,r),i.push(r))}}return!1},this.idaStarSearch=async()=>{const i=async(s,r)=>{const o=s[s.length-1],h=this.f(o);if(h>r)return h;if(o.isEqual(this.goal))return this.drawPath(o);o.isEqual(this.start)||await this.explore(o,"ida*");let a=1/0;for(const n of this.getNeighbors(o))if(!n.isCycle()){s.push(n);const l=await i(s,r);if(l===!0)return!0;l<a&&(a=l),s.pop()}return a};let t=this.h(this.start);const e=[this.start];for(;;){const s=await i(e,t);if(s===!0)return!0;if(s===1/0)return!1;t=s}}}class c{constructor(t,e,s=null){this.row=t,this.col=e,this.repr=`row:${t} - col:${e}`,this.parent=s,this.depth=s?s.depth+1:0}isCycle(){let t=this;for(;t.parent!==null;){if(this.isEqual(t.parent))return!0;t=t.parent}return!1}isEqual(t){return t.row===this.row&&t.col===this.col}}const f={NORMAL:"transparent",EXPLORED:["rgb(0, 128, 128)","rgb(0, 148, 178);"],START:"linear-gradient(135deg, #79e3b6, #9EB8FF)",GOAL:"linear-gradient(135deg, #f56b3e, #bf8a10)",BLOCK:"#a2b1ca"};class C{constructor(t,e,s,r,o){this.parent=t,this.toggle=e,this.speedSlider=s,this.sizeSlider=r,this.wslider=o,this.start=null,this.end=null,this.grid=new Map,this.block=new Map,this.elements=[],this.speed=s.value,this.cellSize=r.value,this.W=parseInt(o.value/50),q.call(this),this.oldHeight=window.innerHeight,this.oldWidth=window.innerWidth,window.addEventListener("resize",()=>{(Math.abs(this.oldHeight-window.innerHeight)>60||this.oldWidth!==window.innerWidth)&&(this.updateTable(),this.oldHeight=window.innerHeight,this.oldWidth=window.innerWidth)}),s.addEventListener("input",({target:a})=>{this.speed=a.value}),r.addEventListener("input",({target:a})=>{this.cellSize=a.value,this.updateTable()}),o.addEventListener("input",({target:a})=>{this.W=parseInt(a.value/50)}),new I({selectables:["td"],container:"table",startareas:["#grid-container"],boundaries:["#grid-container"]}).on("stop",({store:a})=>{if(!(a.selected.length<=1)){for(const n of a.selected){const l=n.getAttribute("i"),u=n.getAttribute("j");this.setBlock(l,u)}for(const n of a.changed.removed){const l=n.getAttribute("i"),u=n.getAttribute("j");this.setBlock(l,u)}}}),this.fade("background-color",800)}getElement(t){return this.grid.get(`${t.row}-${t.col}`)}setElement(t,e,s){this.grid.set(`${t}-${e}`,E({},s))}isBlocked(t,e){return this.block.get(`${t}-${e}`)}setBlock(t,e,s=!0){this.block.set(`${t}-${e}`,s),this.styleBlock(this.grid.get(`${t}-${e}`).td)}makeTable(){this.rows=Math.round(this.parent.clientHeight/(this.cellSize-1)),this.rows*(this.cellSize-1)>this.parent.clientHeight&&(this.rows-=1),this.cols=Math.floor(window.innerWidth/this.cellSize);const t=document.createElement("table");t.setAttribute("cellspacing",1);for(let e=0;e<this.rows;e++){const s=document.createElement("tr");for(let r=0;r<this.cols;r++){const o=document.createElement("td");this.styleNormal(o),o.setAttribute("i",e),o.setAttribute("j",r),o.addEventListener("click",()=>this.onClick(e,r)),o.addEventListener("mousemove",h=>{h.shiftKey&&this.setBlock(e,r)}),this.setElement(e,r,{td:o}),s.appendChild(o)}t.appendChild(s)}this.table=t,this.parent.appendChild(this.table)}updateTable(){this.parent.contains(this.table)&&(this.parent.removeChild(this.table),this.block=new Map,this.makeTable())}getNeighbors(t){const e=[];return t.row>0&&t.col<this.cols-1&&!this.isBlocked(t.row-1,t.col+1)&&e.push(new c(t.row-1,t.col+1,t)),t.col<this.cols-1&&!this.isBlocked(t.row,t.col+1)&&e.push(new c(t.row,t.col+1,t)),t.row<this.rows-1&&t.col<this.cols-1&&!this.isBlocked(t.row+1,t.col+1)&&e.push(new c(t.row+1,t.col+1,t)),t.row<this.rows-1&&!this.isBlocked(t.row+1,t.col)&&e.push(new c(t.row+1,t.col,t)),t.row<this.rows-1&&t.col>0&&!this.isBlocked(t.row+1,t.col-1)&&e.push(new c(t.row+1,t.col-1,t)),t.col>0&&!this.isBlocked(t.row,t.col-1)&&e.push(new c(t.row,t.col-1,t)),t.row>0&&t.col>0&&!this.isBlocked(t.row-1,t.col-1)&&e.push(new c(t.row-1,t.col-1,t)),t.row>0&&!this.isBlocked(t.row-1,t.col)&&e.push(new c(t.row-1,t.col,t)),e}onClick(t,e,s=this.toggle.checked?"goal":"start"){if(this.isBlocked(t,e))return;this[s]&&(this.styleNormal(this.getElement(this[s]).td),this.setBlock(t,e,!1)),this[s]=new c(t,e);const{td:r}=this.getElement(this[s]);s==="start"?this.styleStart(r):this.styleGoal(r)}styleNormal(t){t.setAttribute("style",`height:${this.cellSize-4}px;
            width:${this.cellSize}px;
            cursor: pointer;
            background-color:${f.NORMAL};`)}styleStart(t){t.setAttribute("style",`cursor: pointer;
            background: ${f.START};`)}styleGoal(t){t.setAttribute("style",`background: ${f.GOAL};`)}styleBlock(t){t.setAttribute("style",`height:${this.cellSize-4}px;
            width:${this.cellSize}px;
            background: ${f.BLOCK};`)}fade(t,e){const s=20,r=e/s,o=1/r,h=(a,n,l)=>(1-l)*a+l*n;setInterval(()=>{this.elements.forEach((a,n)=>{a.u>=1&&this.elements.splice(n,1);let l=parseInt(h(a.start[0],a.end[0],a.u)),u=parseInt(h(a.start[1],a.end[1],a.u)),B=parseInt(h(a.start[2],a.end[2],a.u)),S=`rgb(${l}, ${u}, ${B})`;a.td.style.setProperty(t,S),a.u+=o})},s)}reset(){this.start=null,this.goal=null,this.speedSlider.value=125,this.speed=125,this.sizeSlider.value=30,this.cellSize=30,this.wslider.value=50,this.W=1,this.toggle.checked=!1,this.updateTable()}}function M(i={}){const{immediate:t=!1,onNeedRefresh:e,onOfflineReady:s,onRegistered:r,onRegisterError:o}=i;let h;const a=async(n=!0)=>{};return"serviceWorker"in navigator&&(h=new $("/visual-search/sw.js",{scope:"/visual-search/"}),h.addEventListener("activated",n=>{n.isUpdate?window.location.reload():s==null||s()}),h.register({immediate:t}).then(n=>{r==null||r(n)}).catch(n=>{o==null||o(n)})),a}M();const N=[{key:"--main-color",light:"#fd8421",dark:"#79e3b6"},{key:"--main-color-light",light:"#f39b53",dark:"#a8f7d6"},{key:"--main-color-shadow",light:"#d16a15",dark:"#5cb891"},{key:"--accent-color",light:"#fd8421",dark:"#79e3b6"},{key:"--hole-neutral",light:"#aeaecb",dark:"#aeaecb"},{key:"--hole-light",light:"#cbcbdb",dark:"#cbcbdb"},{key:"--hole-shadow",light:"#9595b0",dark:"#9595b0"},{key:"--thumb-shine",light:"rgba(255, 255, 255, 0.4)",dark:"rgba(190, 177, 177, 0.4)"},{key:"--l-neutral",light:"#dedeed",dark:"#303040"},{key:"--l-light",light:"#f1f1f7",dark:"#424255"},{key:"--l-shadow",light:"#aaa4c4",dark:"#151322"},{key:"--l-object",light:"#8f8fb5",dark:"#9d9da7"}];let b=!0;const k=document.getElementById("theme");k.onclick=()=>{b=!b,k.firstElementChild.classList.toggle("fa-sun"),k.firstElementChild.classList.toggle("fa-moon"),N.forEach(({key:i,light:t,dark:e})=>document.documentElement.style.setProperty(i,b?t:e))};L()&&(document.getElementById("instructions").innerHTML='touch <i class="fas fa-hand-pointer"></i> & drag to block path');window.addEventListener("load",()=>{const i=new C(document.getElementById("grid-container"),document.getElementById("toggle"),document.getElementById("speed-slider"),document.getElementById("size-slider"),document.getElementById("w-slider"));i.makeTable(),document.getElementById("search").onclick=()=>{i.breadthFirstSearch()},document.getElementById("select").onchange=({target:t})=>{document.getElementById("search").onclick=()=>i[t.value](),document.getElementById("heuristic").setAttribute("style",`display: ${t.value==="aStarSearch"?"flex":"none"};`),document.getElementById("w-slider").value=50,i.W=1},document.getElementById("reset").onclick=()=>{i.reset()}});
