var G=Object.defineProperty;var $=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var C=(i,t,e)=>t in i?G(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,M=(i,t)=>{for(var e in t||(t={}))J.call(t,e)&&C(i,e,t[e]);if($)for(var e of $(t))Q.call(t,e)&&C(i,e,t[e]);return i};/*! @viselect/vanilla 3.0.0-beta.13 MIT | https://github.com/Simonwep/selection */const W=(i,t="px")=>typeof i=="number"?i+t:i;function b({style:i},t,e){if(typeof t=="object")for(const[n,s]of Object.entries(t))i[n]=W(s);else e!==void 0&&(i[t]=W(e))}function R(i){return(t,e,n,s={})=>{t instanceof HTMLCollection||t instanceof NodeList?t=Array.from(t):Array.isArray(t)||(t=[t]),Array.isArray(e)||(e=[e]);for(const o of t)for(const c of e)o[i](c,n,M({capture:!1},s));return[t,e,n,s]}}const S=R("addEventListener"),w=R("removeEventListener"),L=i=>{const t=i.touches&&i.touches[0]||i;return{tap:t,x:t.clientX,y:t.clientY,target:t.target}};function V(i){let t=i.path||i.composedPath&&i.composedPath();if(t)return t;let e=i.target.parentElement;for(t=[i.target,e];e=e.parentElement;)t.push(e);return t.push(document,window),t}function D(i,t,e="touch"){switch(e){case"center":{const n=t.left+t.width/2,s=t.top+t.height/2;return n>=i.left&&n<=i.right&&s>=i.top&&s<=i.bottom}case"cover":return t.left>=i.left&&t.top>=i.top&&t.right<=i.right&&t.bottom<=i.bottom;case"touch":return i.right>=t.left&&i.left<=t.right&&i.bottom>=t.top&&i.top<=t.bottom;default:throw new Error(`Unkown intersection mode: ${e}`)}}function U(i,t){const e=i.indexOf(t);~e&&i.splice(e,1)}function E(i,t=document){const e=Array.isArray(i)?i:[i],n=[];for(let s=0,o=e.length;s<o;s++){const c=e[s];typeof c=="string"?n.push(...Array.from(t.querySelectorAll(c))):c instanceof Element&&n.push(c)}return n}const H=()=>matchMedia("(hover: none), (pointer: coarse)").matches,I=(i,t)=>{for(const[e,n]of Object.entries(i)){const s=t[e];i[e]=s===void 0?i[e]:typeof s!="object"||typeof n!="object"||n===null||Array.isArray(n)?s:I(n,s)}return i},{abs:x,max:B,min:q,ceil:F}=Math;class Z extends class{constructor(){this.t=new Map,this.on=this.addEventListener,this.off=this.removeEventListener,this.emit=this.dispatchEvent}addEventListener(t,e){const n=this.t.get(t)||new Set;return this.t.set(t,n),n.add(e),this}removeEventListener(t,e){var n;return(n=this.t.get(t))==null||n.delete(e),this}dispatchEvent(t,...e){let n=!0;for(const s of this.t.get(t)||[])n=s(...e)!==!1&&n;return n}unbindAllListeners(){this.t.clear()}}{constructor(t){super(),this.i={touched:[],stored:[],selected:[],changed:{added:[],removed:[]}},this.o=[],this.h=new DOMRect,this.l={y1:0,x2:0,y2:0,x1:0},this.u=!0,this.p=!0,this.m={x:0,y:0},this.v={x:0,y:0},this.disable=this.g.bind(this,!1),this.enable=this.g,this._=I({selectionAreaClass:"selection-area",selectionContainerClass:void 0,selectables:[],document:window.document,behaviour:{overlap:"invert",intersect:"touch",startThreshold:{x:10,y:10},scrolling:{speedDivider:10,manualSpeed:750,startScrollMargins:{x:0,y:0}}},features:{range:!0,touch:!0,singleTap:{allow:!0,intersect:"native"}},startAreas:["html"],boundaries:["html"],container:"body"},t);for(const o of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))typeof this[o]=="function"&&(this[o]=this[o].bind(this));const{document:e,selectionAreaClass:n,selectionContainerClass:s}=this._;this.S=e.createElement("div"),this.A=e.createElement("div"),this.A.appendChild(this.S),this.S.classList.add(n),s&&this.A.classList.add(s),b(this.S,{willChange:"top, left, bottom, right, width, height",top:0,left:0,position:"fixed"}),b(this.A,{overflow:"hidden",position:"fixed",transform:"translate3d(0, 0, 0)",pointerEvents:"none",zIndex:"1"}),this.T=(o=>{let c,u=-1,a=!1;return{next(...r){c=r,a||(a=!0,u=requestAnimationFrame(()=>{o(...c),a=!1}))},cancel(){cancelAnimationFrame(u),a=!1}}})(o=>{this.L(),this.C(),this.M("move",o),this.j()}),this.enable()}g(t=!0){const{document:e,features:n}=this._,s=t?S:w;s(e,"mousedown",this.k),n.touch&&s(e,"touchstart",this.k,{passive:!1})}k(t,e=!1){const{x:n,y:s,target:o}=L(t),{_:c}=this,{document:u}=this._,a=o.getBoundingClientRect(),r=E(c.startAreas,c.document),h=E(c.boundaries,c.document);this.O=h.find(l=>D(l.getBoundingClientRect(),a));const d=V(t);if(!this.O||!r.find(l=>d.includes(l))||!h.find(l=>d.includes(l))||!e&&this.M("beforestart",t)===!1)return;this.l={x1:n,y1:s,x2:0,y2:0};const f=u.scrollingElement||u.body;this.v={x:f.scrollLeft,y:f.scrollTop},this.u=!0,this.clearSelection(!1),S(u,["touchmove","mousemove"],this.R,{passive:!1}),S(u,["mouseup","touchcancel","touchend"],this.$),S(u,"scroll",this.D)}F(t){var u;const{singleTap:{intersect:e},range:n}=this._.features,s=L(t);let o=null;if(e==="native")o=s.target;else if(e==="touch"){this.resolveSelectables();const{x:a,y:r}=s;o=this.o.find(h=>{const{right:d,left:f,top:l,bottom:m}=h.getBoundingClientRect();return a<d&&a>f&&r<m&&r>l})}if(!o)return;for(this.resolveSelectables();!this.o.includes(o);){if(!o.parentElement)return;o=o.parentElement}const{stored:c}=this.i;if(this.M("start",t),t.shiftKey&&c.length&&n){const a=(u=this.q)!=null?u:c[0],[r,h]=4&a.compareDocumentPosition(o)?[o,a]:[a,o],d=[...this.o.filter(f=>4&f.compareDocumentPosition(r)&&2&f.compareDocumentPosition(h)),r,h];this.select(d)}else c.includes(o)&&(c.length===1||t.ctrlKey||c.every(a=>this.i.stored.includes(a)))?this.deselect(o):(this.q=o,this.select(o));this.M("stop",t)}R(t){const{container:e,document:n,features:s,behaviour:{startThreshold:o}}=this._,{x1:c,y1:u}=this.l,{x:a,y:r}=L(t),h=typeof o;if(h==="number"&&x(a+r-(c+u))>=o||h==="object"&&x(a-c)>=o.x||x(r-u)>=o.y){if(w(n,["mousemove","touchmove"],this.R,{passive:!1}),this.M("beforedrag",t)===!1)return void w(n,["mouseup","touchcancel","touchend"],this.$);S(n,["mousemove","touchmove"],this.H,{passive:!1}),b(this.S,"display","block"),E(e,n)[0].appendChild(this.A),this.resolveSelectables(),this.u=!1,this.W=this.O.getBoundingClientRect(),this.p=this.O.scrollHeight!==this.O.clientHeight||this.O.scrollWidth!==this.O.clientWidth,this.p&&(S(n,"wheel",this.I,{passive:!1}),this.o=this.o.filter(d=>this.O.contains(d))),this.N(),this.M("start",t),this.H(t)}s.touch&&H()&&t.preventDefault()}N(){const{A:t,O:e,S:n}=this,s=this.W=e.getBoundingClientRect();this.p?(b(t,{top:s.top,left:s.left,width:s.width,height:s.height}),b(n,{marginTop:-s.top,marginLeft:-s.left})):(b(t,{top:0,left:0,width:"100%",height:"100%"}),b(n,{marginTop:0,marginLeft:0}))}H(t){const{x:e,y:n}=L(t),{m:s,l:o,_:c,T:u}=this,{features:a}=c,{speedDivider:r}=c.behaviour.scrolling,h=this.O;if(o.x2=e,o.y2=n,this.p&&(s.y||s.x)){const d=()=>{if(!s.x&&!s.y)return;const{scrollTop:f,scrollLeft:l}=h;s.y&&(h.scrollTop+=F(s.y/r),o.y1-=h.scrollTop-f),s.x&&(h.scrollLeft+=F(s.x/r),o.x1-=h.scrollLeft-l),u.next(t),requestAnimationFrame(d)};requestAnimationFrame(d)}else u.next(t);a.touch&&H()&&t.preventDefault()}D(){const{v:t,_:{document:e}}=this,{scrollTop:n,scrollLeft:s}=e.scrollingElement||e.body;this.l.x1+=t.x-s,this.l.y1+=t.y-n,t.x=s,t.y=n,this.N(),this.T.next(null)}I(t){const{manualSpeed:e}=this._.behaviour.scrolling,n=t.deltaY?t.deltaY>0?1:-1:0,s=t.deltaX?t.deltaX>0?1:-1:0;this.m.y+=n*e,this.m.x+=s*e,this.H(t),t.preventDefault()}L(){const{m:t,l:e,h:n,O:s,W:o,_:c}=this,{scrollTop:u,scrollHeight:a,clientHeight:r,scrollLeft:h,scrollWidth:d,clientWidth:f}=s,l=o,{x1:m,y1:v}=e;let{x2:p,y2:g}=e;const{behaviour:{scrolling:{startScrollMargins:y}}}=c;p<l.left+y.x?(t.x=h?-x(l.left-p+y.x):0,p=p<l.left?l.left:p):p>l.right-y.x?(t.x=d-h-f?x(l.left+l.width-p-y.x):0,p=p>l.right?l.right:p):t.x=0,g<l.top+y.y?(t.y=u?-x(l.top-g+y.y):0,g=g<l.top?l.top:g):g>l.bottom-y.y?(t.y=a-u-r?x(l.top+l.height-g-y.y):0,g=g>l.bottom?l.bottom:g):t.y=0;const k=q(m,p),T=q(v,g),Y=B(m,p),z=B(v,g);n.x=k,n.y=T,n.width=Y-k,n.height=z-T}j(){const{x:t,y:e,width:n,height:s}=this.h,{style:o}=this.S;o.left=`${t}px`,o.top=`${e}px`,o.width=`${n}px`,o.height=`${s}px`}$(t,e){var c;const{document:n,features:s}=this._,{u:o}=this;w(n,["mousemove","touchmove"],this.R),w(n,["touchmove","mousemove"],this.H),w(n,["mouseup","touchcancel","touchend"],this.$),w(n,"scroll",this.D),t&&o&&s.singleTap.allow?this.F(t):o||e||(this.C(),this.M("stop",t)),this.m.x=0,this.m.y=0,this.p&&w(n,"wheel",this.I,{passive:!0}),this.A.remove(),(c=this.T)==null||c.cancel(),b(this.S,"display","none"),this.U()}C(){const{o:t,_:e,i:n,h:s}=this,{stored:o,selected:c,touched:u}=n,{intersect:a,overlap:r}=e.behaviour,h=r==="invert",d=[],f=[],l=[];for(let v=0;v<t.length;v++){const p=t[v];if(D(s,p.getBoundingClientRect(),a)){if(c.includes(p))o.includes(p)&&!u.includes(p)&&u.push(p);else{if(h&&o.includes(p)){l.push(p);continue}f.push(p)}d.push(p)}}h&&f.push(...o.filter(v=>!c.includes(v)));const m=r==="keep";for(let v=0;v<c.length;v++){const p=c[v];d.includes(p)||m&&o.includes(p)||l.push(p)}n.selected=d,n.changed={added:f,removed:l},this.q=d[d.length-1]}M(t,e){return this.emit(t,{event:e,store:this.i,selection:this})}U(){const{_:t,i:e}=this,{selected:n,changed:s,touched:o,stored:c}=e,u=n.filter(a=>!c.includes(a));switch(t.behaviour.overlap){case"drop":e.stored=[...u,...c.filter(a=>!o.includes(a))];break;case"invert":e.stored=[...u,...c.filter(a=>!s.removed.includes(a))];break;case"keep":e.stored=[...c,...n.filter(a=>!c.includes(a))]}}trigger(t,e=!0){this.k(t,e)}resolveSelectables(){this.o=E(this._.selectables,this._.document)}clearSelection(t=!0){this.i={stored:t?[]:this.i.stored,selected:[],touched:[],changed:{added:[],removed:[]}}}getSelection(){return this.i.stored}getSelectionArea(){return this.S}cancel(t=!1){this.$(null,!t)}destroy(){this.cancel(),this.disable(),this.A.remove(),super.unbindAllListeners()}select(t,e=!1){const{changed:n,selected:s,stored:o}=this.i,c=E(t,this._.document).filter(u=>!s.includes(u)&&!o.includes(u));return o.push(...c),s.push(...c),n.added.push(...c),!e&&this.M("move",null),c}deselect(t,e=!1){const{selected:n,stored:s,changed:o}=this.i;return!(!n.includes(t)&&!s.includes(t))&&(o.removed.push(t),U(s,t),U(n,t),!e&&this.M("move",null),!0)}}Z.version="3.0.0-beta.13";try{self["workbox:window:6.4.1"]&&_()}catch{}function N(i,t){return new Promise(function(e){var n=new MessageChannel;n.port1.onmessage=function(s){e(s.data)},i.postMessage(t,[n.port2])})}function tt(i,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function K(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=i[e];return n}function et(i,t){var e;if(typeof Symbol=="undefined"||i[Symbol.iterator]==null){if(Array.isArray(i)||(e=function(s,o){if(s){if(typeof s=="string")return K(s,o);var c=Object.prototype.toString.call(s).slice(8,-1);return c==="Object"&&s.constructor&&(c=s.constructor.name),c==="Map"||c==="Set"?Array.from(s):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?K(s,o):void 0}}(i))||t&&i&&typeof i.length=="number"){e&&(i=e);var n=0;return function(){return n>=i.length?{done:!0}:{done:!1,value:i[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(e=i[Symbol.iterator]()).next.bind(e)}try{self["workbox:core:6.4.1"]&&_()}catch{}var O=function(){var i=this;this.promise=new Promise(function(t,e){i.resolve=t,i.reject=e})};function j(i,t){var e=location.href;return new URL(i,e).href===new URL(t,e).href}var A=function(i,t){this.type=i,Object.assign(this,t)};function P(i,t,e){return e?t?t(i):i:(i&&i.then||(i=Promise.resolve(i)),t?i.then(t):i)}function nt(){}var it={type:"SKIP_WAITING"};function X(i,t){if(!t)return i&&i.then?i.then(nt):Promise.resolve()}var rt=function(i){var t,e;function n(u,a){var r,h;return a===void 0&&(a={}),(r=i.call(this)||this).nn={},r.tn=0,r.rn=new O,r.en=new O,r.on=new O,r.un=0,r.an=new Set,r.cn=function(){var d=r.fn,f=d.installing;r.tn>0||!j(f.scriptURL,r.sn.toString())||performance.now()>r.un+6e4?(r.vn=f,d.removeEventListener("updatefound",r.cn)):(r.hn=f,r.an.add(f),r.rn.resolve(f)),++r.tn,f.addEventListener("statechange",r.ln)},r.ln=function(d){var f=r.fn,l=d.target,m=l.state,v=l===r.vn,p={sw:l,isExternal:v,originalEvent:d};!v&&r.mn&&(p.isUpdate=!0),r.dispatchEvent(new A(m,p)),m==="installed"?r.wn=self.setTimeout(function(){m==="installed"&&f.waiting===l&&r.dispatchEvent(new A("waiting",p))},200):m==="activating"&&(clearTimeout(r.wn),v||r.en.resolve(l))},r.dn=function(d){var f=r.hn,l=f!==navigator.serviceWorker.controller;r.dispatchEvent(new A("controlling",{isExternal:l,originalEvent:d,sw:f,isUpdate:r.mn})),l||r.on.resolve(f)},r.gn=(h=function(d){var f=d.data,l=d.ports,m=d.source;return P(r.getSW(),function(){r.an.has(m)&&r.dispatchEvent(new A("message",{data:f,originalEvent:d,ports:l,sw:m}))})},function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];try{return Promise.resolve(h.apply(this,d))}catch(l){return Promise.reject(l)}}),r.sn=u,r.nn=a,navigator.serviceWorker.addEventListener("message",r.gn),r}e=i,(t=n).prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e;var s,o,c=n.prototype;return c.register=function(u){var a=(u===void 0?{}:u).immediate,r=a!==void 0&&a;try{var h=this;return function(d,f){var l=d();return l&&l.then?l.then(f):f(l)}(function(){if(!r&&document.readyState!=="complete")return X(new Promise(function(d){return window.addEventListener("load",d)}))},function(){return h.mn=Boolean(navigator.serviceWorker.controller),h.yn=h.pn(),P(h.bn(),function(d){h.fn=d,h.yn&&(h.hn=h.yn,h.en.resolve(h.yn),h.on.resolve(h.yn),h.yn.addEventListener("statechange",h.ln,{once:!0}));var f=h.fn.waiting;return f&&j(f.scriptURL,h.sn.toString())&&(h.hn=f,Promise.resolve().then(function(){h.dispatchEvent(new A("waiting",{sw:f,wasWaitingBeforeRegister:!0}))}).then(function(){})),h.hn&&(h.rn.resolve(h.hn),h.an.add(h.hn)),h.fn.addEventListener("updatefound",h.cn),navigator.serviceWorker.addEventListener("controllerchange",h.dn),h.fn})})}catch(d){return Promise.reject(d)}},c.update=function(){try{return this.fn?X(this.fn.update()):void 0}catch(u){return Promise.reject(u)}},c.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},c.messageSW=function(u){try{return P(this.getSW(),function(a){return N(a,u)})}catch(a){return Promise.reject(a)}},c.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&N(this.fn.waiting,it)},c.pn=function(){var u=navigator.serviceWorker.controller;return u&&j(u.scriptURL,this.sn.toString())?u:void 0},c.bn=function(){try{var u=this;return function(a,r){try{var h=a()}catch(d){return r(d)}return h&&h.then?h.then(void 0,r):h}(function(){return P(navigator.serviceWorker.register(u.sn,u.nn),function(a){return u.un=performance.now(),a})},function(a){throw a})}catch(a){return Promise.reject(a)}},s=n,(o=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&tt(s.prototype,o),n}(function(){function i(){this.Pn=new Map}var t=i.prototype;return t.addEventListener=function(e,n){this.Sn(e).add(n)},t.removeEventListener=function(e,n){this.Sn(e).delete(n)},t.dispatchEvent=function(e){e.target=this;for(var n,s=et(this.Sn(e.type));!(n=s()).done;)(0,n.value)(e)},t.Sn=function(e){return this.Pn.has(e)||this.Pn.set(e,new Set),this.Pn.get(e)},i}());export{Z as S,rt as v};
